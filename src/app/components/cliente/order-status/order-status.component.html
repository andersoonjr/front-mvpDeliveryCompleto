<mat-card class="status-card">
    <div class="status-title">
        Status do Pedido
    </div>

    <p class="status-message">
        Aguarde alguns minutos, logo menos chegaremos com o seu Pedido!
    </p>

    <!-- Steps 1-3 com Material -->
    <mat-vertical-stepper [selectedIndex]="getCurrentStepIndex()">
        <mat-step [completed]="isStepCompleted(OrderStatus.PREPARANDO)">
            <ng-template matStepLabel>Em Preparo</ng-template>
        </mat-step>

        <mat-step [completed]="isStepCompleted(OrderStatus.PRONTO)">
            <ng-template matStepLabel>Pedido Pronto</ng-template>
        </mat-step>

        <mat-step [completed]="isStepCompleted(OrderStatus.ENVIANDO)">
            <ng-template matStepLabel>
                <div class="step-with-button">
                    <span>Saiu Para Entrega</span>
                    <button *ngIf="isEnviandoStatus()"
                            mat-raised-button
                            color="primary"
                            (click)="confirmDelivery()">
                        Confirmar Recebimento
                    </button>
                </div>
            </ng-template>
        </mat-step>
    </mat-vertical-stepper>

    <!-- Step 4 customizado -->
    <div class="custom-step" [class.completed]="isEntregueStatus()">
        <div class="step-icon">
            <span class="step-number">{{ isEntregueStatus() ? 'âœ“' : '4' }}</span>
        </div>
        <div class="step-content">
            <span class="step-label">Pedido Entregue</span>
        </div>
    </div>

    <mat-card-actions>
        <button mat-button (click)="close()">Fechar</button>
    </mat-card-actions>
</mat-card>
